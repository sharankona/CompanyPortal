import{r as y,w as b,u as v,x as j,y as i,j as t,e as N,a0 as D,D as F,a4 as S,B as k,P as E,a as q,b as K,c as L,a5 as M,a6 as O,F as P,G as Q,H as p,J as w,K as I,L as J,M as U}from"./index-BGb8UYbK.js";function B(){const[C,f]=y.useState("kanban"),[T,m]=y.useState(!1);document.title="X (Twitter) Content | Dashboard";const s=b(),{toast:o}=v(),{data:r,isLoading:c}=j({queryKey:["/api/content","twitter"],queryFn:async()=>{const e=await fetch("/api/content?contentType=twitter");if(!e.ok)throw new Error("Failed to fetch Twitter content");return e.json()}}),{data:l}=j({queryKey:["/api/workflows"],queryFn:async()=>{const e=await fetch("/api/workflows");if(!e.ok)throw new Error("Failed to fetch workflows");return e.json()}}),g=i({mutationFn:async e=>{const n=await fetch("/api/content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,contentType:"twitter"})});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to create Twitter content")}return n.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/content"]}),m(!1),o({title:"Twitter Content Created",description:"Your Twitter content has been created successfully."})}}),d=i({mutationFn:async({id:e,status:n,notes:a})=>{const x=await fetch(`/api/content/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:n,notes:a})});if(!x.ok)throw new Error("Failed to update content");return x.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/content"]}),o({title:"Content Updated",description:"Content status has been updated successfully."})}}),u=i({mutationFn:async({id:e,data:n})=>{const a=await fetch(`/api/content/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok)throw new Error("Failed to edit content");return a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/content"]}),o({title:"Content Updated",description:"Content has been updated successfully."})}}),h=i({mutationFn:async e=>{const n=await fetch(`/api/content/${e}`,{method:"DELETE"});if(!n.ok)throw new Error("Failed to delete content");return n.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/content"]}),o({title:"Content Deleted",description:"Content has been deleted successfully."})}});return t.jsx(N,{title:"X (Twitter) Content",description:"Manage your Twitter/X posts and content",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(D,{className:"h-6 w-6 text-black"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage your X (Twitter) posts and content"})]}),t.jsxs(F,{open:T,onOpenChange:m,children:[t.jsx(S,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(E,{className:"mr-2 h-4 w-4"}),"Create Twitter Post"]})}),t.jsxs(q,{className:"sm:max-w-[600px]",children:[t.jsxs(K,{children:[t.jsx(L,{children:"Create New Twitter Content"}),t.jsx(M,{children:"Fill in the details to create a new Twitter post."})]}),t.jsx(O,{onSubmit:e=>g.mutate(e),workflows:l})]})]})]}),t.jsxs(P,{value:C,onValueChange:f,className:"w-full",children:[t.jsxs(Q,{className:"grid w-full grid-cols-3",children:[t.jsx(p,{value:"kanban",children:"Kanban Board"}),t.jsx(p,{value:"list",children:"List View"}),t.jsx(p,{value:"calendar",children:"Calendar"})]}),t.jsx(w,{value:"kanban",className:"mt-6",children:c?t.jsx("div",{className:"text-center p-8",children:"Loading Twitter content..."}):t.jsx(I,{contentItems:r||[],onStatusChange:(e,n,a)=>d.mutate({id:e,status:n,notes:a}),onEdit:(e,n)=>u.mutate({id:e,data:n}),onDelete:e=>h.mutate(e),workflows:l})}),t.jsx(w,{value:"list",className:"mt-6",children:c?t.jsx("div",{className:"text-center p-8",children:"Loading Twitter content..."}):t.jsx(J,{contentItems:r||[],onStatusChange:(e,n,a)=>d.mutate({id:e,status:n,notes:a}),onEdit:(e,n)=>u.mutate({id:e,data:n}),onDelete:e=>h.mutate(e),workflows:l})}),t.jsx(w,{value:"calendar",className:"mt-6",children:c?t.jsx("div",{className:"text-center p-8",children:"Loading Twitter content..."}):t.jsx(U,{contentItems:r||[],onStatusChange:(e,n,a)=>d.mutate({id:e,status:n,notes:a}),onEdit:(e,n)=>u.mutate({id:e,data:n}),onDelete:e=>h.mutate(e)})})]})]})})}export{B as default};
