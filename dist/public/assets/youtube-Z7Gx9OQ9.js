import{r as b,w as g,u as v,x as j,y as i,j as t,e as N,_ as D,D as Y,a4 as F,B as S,P as k,a as E,b as q,c as K,a5 as L,a6 as M,F as O,G as P,H as p,J as m,K as Q,L as I,M as J}from"./index-BGb8UYbK.js";function B(){const[C,w]=b.useState("kanban"),[f,y]=b.useState(!1);document.title="YouTube Content | Dashboard";const s=g(),{toast:o}=v(),{data:r,isLoading:c}=j({queryKey:["/api/content","youtube"],queryFn:async()=>{const e=await fetch("/api/content?contentType=youtube");if(!e.ok)throw new Error("Failed to fetch YouTube content");return e.json()}}),{data:u}=j({queryKey:["/api/workflows"],queryFn:async()=>{const e=await fetch("/api/workflows");if(!e.ok)throw new Error("Failed to fetch workflows");return e.json()}}),T=i({mutationFn:async e=>{const n=await fetch("/api/content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,contentType:"youtube"})});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to create YouTube content")}return n.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/content"]}),y(!1),o({title:"YouTube Content Created",description:"Your YouTube content has been created successfully."})}}),l=i({mutationFn:async({id:e,status:n,notes:a})=>{const x=await fetch(`/api/content/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:n,notes:a})});if(!x.ok)throw new Error("Failed to update content");return x.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/content"]}),o({title:"Content Updated",description:"Content status has been updated successfully."})}}),d=i({mutationFn:async({id:e,data:n})=>{const a=await fetch(`/api/content/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok)throw new Error("Failed to edit content");return a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/content"]}),o({title:"Content Updated",description:"Content has been updated successfully."})}}),h=i({mutationFn:async e=>{const n=await fetch(`/api/content/${e}`,{method:"DELETE"});if(!n.ok)throw new Error("Failed to delete content");return n.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/content"]}),o({title:"Content Deleted",description:"Content has been deleted successfully."})}});return t.jsx(N,{title:"YouTube Content",description:"Manage your YouTube videos and channel content",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(D,{className:"h-6 w-6 text-black"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage your YouTube videos and content"})]}),t.jsxs(Y,{open:f,onOpenChange:y,children:[t.jsx(F,{asChild:!0,children:t.jsxs(S,{children:[t.jsx(k,{className:"mr-2 h-4 w-4"}),"Create YouTube Video"]})}),t.jsxs(E,{className:"sm:max-w-[600px]",children:[t.jsxs(q,{children:[t.jsx(K,{children:"Create New YouTube Content"}),t.jsx(L,{children:"Fill in the details to create a new YouTube video."})]}),t.jsx(M,{onSubmit:e=>T.mutate(e),workflows:u})]})]})]}),t.jsxs(O,{value:C,onValueChange:w,className:"w-full",children:[t.jsxs(P,{className:"grid w-full grid-cols-3",children:[t.jsx(p,{value:"kanban",children:"Kanban Board"}),t.jsx(p,{value:"list",children:"List View"}),t.jsx(p,{value:"calendar",children:"Calendar"})]}),t.jsx(m,{value:"kanban",className:"mt-6",children:c?t.jsx("div",{className:"text-center p-8",children:"Loading YouTube content..."}):t.jsx(Q,{contentItems:r||[],onStatusChange:(e,n,a)=>l.mutate({id:e,status:n,notes:a}),onEdit:(e,n)=>d.mutate({id:e,data:n}),onDelete:e=>h.mutate(e),workflows:u})}),t.jsx(m,{value:"list",className:"mt-6",children:c?t.jsx("div",{className:"text-center p-8",children:"Loading YouTube content..."}):t.jsx(I,{contentItems:r||[],onStatusChange:(e,n,a)=>l.mutate({id:e,status:n,notes:a}),onEdit:(e,n)=>d.mutate({id:e,data:n}),onDelete:e=>h.mutate(e),workflows:u})}),t.jsx(m,{value:"calendar",className:"mt-6",children:c?t.jsx("div",{className:"text-center p-8",children:"Loading YouTube content..."}):t.jsx(J,{contentItems:r||[],onStatusChange:(e,n,a)=>l.mutate({id:e,status:n,notes:a}),onEdit:(e,n)=>d.mutate({id:e,data:n}),onDelete:e=>h.mutate(e)})})]})]})})}export{B as default};
