import{r as j,w as L,u as b,x as f,y as i,j as t,e as v,Z as I,D as N,a4 as T,B as D,P as F,a as S,b as E,c as q,a5 as K,a6 as M,F as O,G as P,H as p,J as m,K as Q,L as J,M as U}from"./index-BGb8UYbK.js";function $(){const[C,w]=j.useState("kanban"),[k,x]=j.useState(!1);document.title="LinkedIn Content | Dashboard";const a=L(),{toast:o}=b(),{data:r,isLoading:c}=f({queryKey:["/api/content","linkedin"],queryFn:async()=>{const e=await fetch("/api/content?contentType=linkedin");if(!e.ok)throw new Error("Failed to fetch LinkedIn content");return e.json()}}),{data:l}=f({queryKey:["/api/workflows"],queryFn:async()=>{const e=await fetch("/api/workflows");if(!e.ok)throw new Error("Failed to fetch workflows");return e.json()}}),g=i({mutationFn:async e=>{const n=await fetch("/api/content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,contentType:"linkedin"})});if(!n.ok){const s=await n.json();throw new Error(s.message||"Failed to create LinkedIn content")}return n.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/content"]}),x(!1),o({title:"LinkedIn Content Created",description:"Your LinkedIn content has been created successfully."})}}),d=i({mutationFn:async({id:e,status:n,notes:s})=>{const y=await fetch(`/api/content/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:n,notes:s})});if(!y.ok)throw new Error("Failed to update content");return y.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/content"]}),o({title:"Content Updated",description:"Content status has been updated successfully."})}}),u=i({mutationFn:async({id:e,data:n})=>{const s=await fetch(`/api/content/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Failed to edit content");return s.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/content"]}),o({title:"Content Updated",description:"Content has been updated successfully."})}}),h=i({mutationFn:async e=>{const n=await fetch(`/api/content/${e}`,{method:"DELETE"});if(!n.ok)throw new Error("Failed to delete content");return n.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/content"]}),o({title:"Content Deleted",description:"Content has been deleted successfully."})}});return t.jsx(v,{title:"LinkedIn Content",description:"Manage your LinkedIn posts and professional content",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(I,{className:"h-6 w-6 text-black"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage your LinkedIn professional content"})]}),t.jsxs(N,{open:k,onOpenChange:x,children:[t.jsx(T,{asChild:!0,children:t.jsxs(D,{children:[t.jsx(F,{className:"mr-2 h-4 w-4"}),"Create LinkedIn Post"]})}),t.jsxs(S,{className:"sm:max-w-[600px]",children:[t.jsxs(E,{children:[t.jsx(q,{children:"Create New LinkedIn Content"}),t.jsx(K,{children:"Fill in the details to create a new LinkedIn post."})]}),t.jsx(M,{onSubmit:e=>g.mutate(e),workflows:l})]})]})]}),t.jsxs(O,{value:C,onValueChange:w,className:"w-full",children:[t.jsxs(P,{className:"grid w-full grid-cols-3",children:[t.jsx(p,{value:"kanban",children:"Kanban Board"}),t.jsx(p,{value:"list",children:"List View"}),t.jsx(p,{value:"calendar",children:"Calendar"})]}),t.jsx(m,{value:"kanban",className:"mt-6",children:c?t.jsx("div",{className:"text-center p-8",children:"Loading LinkedIn content..."}):t.jsx(Q,{contentItems:r||[],onStatusChange:(e,n,s)=>d.mutate({id:e,status:n,notes:s}),onEdit:(e,n)=>u.mutate({id:e,data:n}),onDelete:e=>h.mutate(e),workflows:l})}),t.jsx(m,{value:"list",className:"mt-6",children:c?t.jsx("div",{className:"text-center p-8",children:"Loading LinkedIn content..."}):t.jsx(J,{contentItems:r||[],onStatusChange:(e,n,s)=>d.mutate({id:e,status:n,notes:s}),onEdit:(e,n)=>u.mutate({id:e,data:n}),onDelete:e=>h.mutate(e),workflows:l})}),t.jsx(m,{value:"calendar",className:"mt-6",children:c?t.jsx("div",{className:"text-center p-8",children:"Loading LinkedIn content..."}):t.jsx(U,{contentItems:r||[],onStatusChange:(e,n,s)=>d.mutate({id:e,status:n,notes:s}),onEdit:(e,n)=>u.mutate({id:e,data:n}),onDelete:e=>h.mutate(e)})})]})]})})}export{$ as default};
